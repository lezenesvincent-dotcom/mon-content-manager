<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cr√©ation - Content Manager</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #1a1a1e;
            color: #e4e4e4;
            font-family: Arial, Helvetica, sans-serif;
            min-height: 100vh;
            padding: 20px;
        }
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 330px;
            gap: 18px;
            max-width: 1440px;
            margin: 0 auto;
        }
        .left-column { display: flex; flex-direction: column; gap: 14px; }
        .right-column { display: flex; flex-direction: column; gap: 14px; }
        .preview-panel {
            border-radius: 14px;
            overflow: hidden;
            position: relative;
            aspect-ratio: 16/9;
            border: 1.5px solid rgba(80, 120, 180, 0.15);
            background-image: url('bg-paris.png');
            background-size: cover;
            background-position: center;
        }
        .preview-content {
            position: relative;
            z-index: 2;
            padding: 28px 36px 20px;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .preview-header { margin-bottom: 6px; }
        .preview-title-row {
            display: flex;
            align-items: baseline;
            gap: 20px;
            margin-bottom: 2px;
        }
        .preview-title-row input.main-preview-title {
            background: transparent; border: none; color: #fff;
            font-family: Arial, Helvetica, sans-serif; font-size: 2.1rem; font-weight: bold;
            letter-spacing: 2px; text-transform: uppercase; outline: none; flex: 1; caret-color: #fff;
        }
        .preview-title-row input.main-preview-title::placeholder { color: rgba(255,255,255,0.15); }
        .preview-title-row input.reco-input {
            background: transparent; border: none; color: rgba(255,255,255,0.5);
            font-family: Arial, Helvetica, sans-serif; font-size: 0.85rem; font-weight: bold;
            letter-spacing: 1.5px; text-transform: uppercase; outline: none; width: 200px; caret-color: #fff;
        }
        .preview-title-row input.reco-input::placeholder { color: rgba(255,255,255,0.12); }
        .preview-section-title {
            background: transparent; border: none; color: #fff;
            font-family: Arial, Helvetica, sans-serif; font-size: 1.5rem; font-weight: bold;
            outline: none; width: 100%; margin-bottom: 4px; caret-color: #fff;
        }
        .preview-section-title::placeholder { color: rgba(255,255,255,0.12); }
        .preview-cards-area { flex: 1; display: flex; flex-direction: column; min-height: 0; }
        .preview-cards-titles {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 4px;
        }
        .card-title-input {
            background: transparent; border: none; color: #fff;
            font-family: Arial, Helvetica, sans-serif; font-size: 0.8rem; font-weight: bold;
            text-align: center; text-transform: uppercase; outline: none; width: 100%; caret-color: #fff;
        }
        .card-title-input::placeholder { color: rgba(255,255,255,0.12); }
        .preview-cards-row {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; flex: 1; min-height: 0;
        }
        .preview-card {
            position: relative; border-radius: 14px; overflow: hidden; min-height: 0;
            aspect-ratio: 555 / 757;
        }
        .preview-card-bg {
            position: absolute; inset: 0;
            background-image: url('data:image/png;base64,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8rEeb6qes3JkuPokoHf346XH1GH48SM/5t8ECBAgQIDAUQRK9/lJV35lGobKcoKpe87KkeyfvO6ar937ET+9e3N3j3v2ff9zR37cvwkQIECAAIHDBEp567h859yrdz//fw97b9NvTvW3gY6UveDZbzi3mxtdWr8tdN8jP+bfBAgQIEBglgXq81O+Xb8T8aJ9u3fU53tO15+pv7JyOPcnr9v/6Xs/+OxLT1iYXyh997N1tMwf/nFvEyBAgACB2ROoP+tTut31twKfd83uHf8+jfmjrqwcXsAFz3zDA7qNoz+uP978635i6HAZbxMgQIDALAj84Cd9ru4nS3+494rnfmKaM8eOldtLOW/7ZWfWy0e/U0fL9jpaTr39/f4mQIAAAQKRAqX7Xn0Vsjd3k4Ov2nv5rk8lZIwfK7eXdM45f7lx431OumDU98/qu3K2qy23y/ibAAECBKZfYPlbPf2/1Vd5f/N41F25/7KdN01/pkMJZmasHIrcdU/c+oZTTzy5P7/vRk+sTzZ6XH1uy70P/7i3CRAgQIDAFAh8q5Ty3q6Udy/d2u3df+XOG6bgnFd0ijM5Vo6UWv5W0XzpHznpuodVkIf0o+6B9SX9zqyv6neGF5w7Usu/CRAgQGAogfo/qG+uV0y+XB+Pvlgfnz5XH5s+U0r/36UcvO7qK3b931Dnsd7HMVbuooHHbH3V5jMWTj5taa47dW5+tGU0GW2po+bEri8n1DW7edSNNnbdZKHr+4V6B5qv71/+CaS5+hyZUX329Vy9Y/Wl/t+o9H39+G3ey/++i8P6MAECBAhMocBt/8Gv/7WfLP8X//v/sS/1+SPj+mTX+tDRjevwWKqPBkv1sWGxfvxAfYQ4WK+O3DIZdTePxuV79XNumvSTG8eT8s0D5cZv/MNfvXj5ff4QIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAwNQJ/D9U2X2KKmcpAQAAAABJRU5ErkJggg==');
            background-size: contain; background-repeat: no-repeat; background-position: center; z-index: 0;
        }
        .preview-card textarea {
            position: relative; z-index: 1; width: 100%; height: 100%;
            background: transparent; border: none; color: #fff;
            font-family: Arial, Helvetica, sans-serif; font-size: 0.75rem; font-weight: bold;
            line-height: 1.5; padding: 12px 10px; outline: none; resize: none; caret-color: #fff; overflow: hidden;
        }
        .preview-card textarea::placeholder { color: rgba(255,255,255,0.18); }
        .panel-section {
            background: rgba(35, 38, 48, 0.9); border-radius: 14px; padding: 18px;
            border: 1px solid rgba(80, 120, 180, 0.1);
        }
        .panel-section-title {
            font-size: 0.78rem; font-weight: bold; text-transform: uppercase;
            color: rgba(255,255,255,0.55); letter-spacing: 1.2px; margin-bottom: 12px;
        }
        .auteur-type-layout { display: flex; justify-content: space-between; align-items: flex-start; gap: 12px; }
        .auteur-left { flex: 1; position: relative; }
        .auteur-chips { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; }
        .auteur-chip {
            background: rgba(255,255,255,0.1); color: #ddd; padding: 6px 14px; border-radius: 20px;
            font-size: 0.78rem; font-weight: bold; display: flex; align-items: center; gap: 6px;
        }
        .auteur-chip .remove-auteur { cursor: pointer; opacity: 0.5; font-size: 0.65rem; }
        .auteur-chip .remove-auteur:hover { opacity: 1; }
        .add-auteur-row { display: flex; gap: 6px; position: relative; }
        .add-auteur-row input {
            flex: 1; background: rgba(15, 18, 28, 0.8); border: 1.5px solid rgba(80, 120, 180, 0.2);
            color: #e4e4e4; padding: 7px 12px; border-radius: 8px; font-size: 0.8rem; outline: none;
            font-family: Arial, Helvetica, sans-serif;
        }
        .add-auteur-row input:focus { border-color: rgba(0, 200, 255, 0.5); }
        .add-auteur-row button {
            background: rgba(0, 200, 255, 0.2); border: 1px solid rgba(0, 200, 255, 0.3);
            color: #00d4ff; padding: 7px 14px; border-radius: 8px; font-size: 0.85rem; font-weight: bold; cursor: pointer;
        }
        .autocomplete-list {
            position: absolute; top: 100%; left: 0; right: 42px;
            background: #1c1e26; border: 1px solid rgba(0, 200, 255, 0.3);
            border-radius: 8px; margin-top: 4px; max-height: 200px;
            overflow-y: auto; z-index: 50; display: none;
        }
        .autocomplete-list.show { display: block; }
        .autocomplete-item {
            padding: 8px 12px; font-size: 0.8rem; font-weight: bold;
            color: #ddd; cursor: pointer; transition: background 0.1s;
        }
        .autocomplete-item:hover, .autocomplete-item.active {
            background: rgba(0, 200, 255, 0.15); color: #00d4ff;
        }
        .autocomplete-item + .autocomplete-item { border-top: 1px solid rgba(255,255,255,0.05); }
        .type-buttons { display: flex; flex-direction: column; gap: 8px; }
        .type-btn {
            background: rgba(255,255,255,0.08); color: rgba(255,255,255,0.6);
            border: 1.5px solid rgba(255,255,255,0.12); padding: 8px 18px; border-radius: 20px;
            font-size: 0.75rem; font-weight: bold; cursor: pointer; transition: all 0.15s;
            text-transform: uppercase; text-align: center; min-width: 95px;
        }
        .type-btn:hover { background: rgba(255,255,255,0.15); }
        .type-btn.active { background: rgba(0, 200, 255, 0.2); border-color: rgba(0, 200, 255, 0.5); color: #00d4ff; }
        .date-grid { display: flex; flex-direction: column; gap: 6px; }
        .date-week-row { display: flex; gap: 6px; }
        .date-chip {
            background: rgba(255,255,255,0.06); color: rgba(255,255,255,0.5); padding: 8px 4px;
            border-radius: 8px; font-size: 0.68rem; font-weight: bold; cursor: pointer;
            transition: all 0.15s; text-align: center; flex: 1; border: 1px solid transparent; user-select: none;
        }
        .date-chip:hover { background: rgba(255,255,255,0.12); }
        .date-chip.active { background: rgba(0, 200, 255, 0.2); border-color: rgba(0, 200, 255, 0.45); color: #00d4ff; }
        .action-buttons { display: flex; gap: 20px; justify-content: center; }
        .action-btn {
            display: flex; flex-direction: column; align-items: center; gap: 6px;
            background: rgba(255,255,255,0.04); border: 1.5px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.6); padding: 14px 30px; border-radius: 12px;
            cursor: pointer; transition: all 0.15s; font-size: 0.75rem; font-weight: bold; text-transform: uppercase;
        }
        .action-btn:hover { background: rgba(255,255,255,0.1); color: #fff; }
        .action-btn .icon { font-size: 1.3rem; }
        .toast {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(80px);
            background: #1c1e26; color: #fff; padding: 12px 28px; border-radius: 10px;
            font-size: 0.85rem; font-weight: bold; border: 1px solid rgba(0, 200, 255, 0.25);
            z-index: 200; opacity: 0; transition: all 0.25s ease;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        .nav-back {
            display: inline-flex; align-items: center; gap: 6px; color: rgba(255,255,255,0.4);
            text-decoration: none; font-size: 0.78rem; margin-bottom: 14px; transition: color 0.15s;
        }
        .nav-back:hover { color: rgba(255,255,255,0.7); }
    </style>
</head>
<body>
    <a href="index.html" class="nav-back">‚Üê Retour Content Manager</a>
    <div class="main-layout">
        <div class="left-column">
            <div class="preview-panel">
                <div class="preview-content">
                    <div class="preview-header">
                        <div class="preview-title-row">
                            <input type="text" id="previewTitre" class="main-preview-title" placeholder="TITRE" spellcheck="false" autofocus>
                            <input type="text" id="previewReco" class="reco-input" placeholder="RECHERCHE ACTIONS" spellcheck="false">
                        </div>
                    </div>
                    <input type="text" id="previewSubtitle" class="preview-section-title" placeholder="Sous-titre" spellcheck="false">
                    <div class="preview-cards-area">
                        <div class="preview-cards-titles">
                            <input type="text" class="card-title-input" id="cardTitle0" placeholder="TITRE P1" data-card="0">
                            <input type="text" class="card-title-input" id="cardTitle1" placeholder="TITRE P2" data-card="1">
                            <input type="text" class="card-title-input" id="cardTitle2" placeholder="TITRE P3" data-card="2">
                            <input type="text" class="card-title-input" id="cardTitle3" placeholder="TITRE P4" data-card="3">
                        </div>
                        <div class="preview-cards-row">
                            <div class="preview-card"><div class="preview-card-bg"></div><textarea id="card0" placeholder="P1" spellcheck="false" data-card="0"></textarea></div>
                            <div class="preview-card"><div class="preview-card-bg"></div><textarea id="card1" placeholder="P2" spellcheck="false" data-card="1"></textarea></div>
                            <div class="preview-card"><div class="preview-card-bg"></div><textarea id="card2" placeholder="P3" spellcheck="false" data-card="2"></textarea></div>
                            <div class="preview-card"><div class="preview-card-bg"></div><textarea id="card3" placeholder="P4" spellcheck="false" data-card="3"></textarea></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-column">
            <div class="panel-section">
                <div class="auteur-type-layout">
                    <div class="auteur-left">
                        <div class="panel-section-title">Auteur</div>
                        <div class="auteur-chips" id="auteurChips"></div>
                        <div class="add-auteur-row">
                            <input type="text" id="auteurInput" placeholder="Rechercher un analyste..." autocomplete="off">
                            <button onclick="addAuteurFromInput()">+</button>
                            <div class="autocomplete-list" id="autocompleteList"></div>
                        </div>
                    </div>
                    <div class="type-buttons">
                        <button class="type-btn" data-type="morning" onclick="selectType(this)">MORNING</button>
                        <button class="type-btn" data-type="direct" onclick="selectType(this)">DIRECT</button>
                        <button class="type-btn" data-type="autres" onclick="selectType(this)">AUTRES</button>
                    </div>
                </div>
            </div>
            <div class="panel-section">
                <div class="panel-section-title">Date de diffusion</div>
                <div class="date-grid" id="dateGrid"></div>
            </div>
            <div class="panel-section">
                <div class="action-buttons">
                    <button class="action-btn" onclick="saveContent()"><span class="icon">‚¨á</span>Save</button>
                    <button class="action-btn" onclick="exportContent()"><span class="icon">‚¨Ü</span>Export</button>
                </div>
            </div>
        </div>
    </div>
    <div class="toast" id="toast"></div>
    <script>
        const WS_SERVER_URL = 'https://ecamm-overlay-server.onrender.com';
        const ANALYSTES = [
            "GERARD Alexandre","DEVISMES Christian","DROUET Herv√©","RAVARY Eric",
            "CHEVALIER Emmanuel","HOMANI Ebrahim","LEMARIE Eric","PALLIEZ Arnaud",
            "ROMAIN Jean-Luc","PLAUD Alexandre","ROYERE Virginie","CADART Arnaud",
            "DESCOURS Dominique","CHEDEVILLE Pierre","DA MAIA David"
        ];
        let state = { previewTitre:'', previewReco:'', subtitle:'', auteurs:[], type:null, dates:[],
            cards:[{title:'',contenu:''},{title:'',contenu:''},{title:'',contenu:''},{title:'',contenu:''}]
        };
        let autocompleteIndex = -1;

        document.addEventListener('DOMContentLoaded', () => {
            generateDateGrid(); bindInputs(); bindAutocomplete();
            document.getElementById('previewTitre').focus();
        });

        function bindInputs() {
            document.getElementById('previewTitre').addEventListener('input', e => state.previewTitre = e.target.value);
            document.getElementById('previewReco').addEventListener('input', e => state.previewReco = e.target.value);
            document.getElementById('previewSubtitle').addEventListener('input', e => state.subtitle = e.target.value);
            document.querySelectorAll('.card-title-input').forEach(input => {
                input.addEventListener('input', e => { state.cards[parseInt(e.target.dataset.card)].title = e.target.value; });
            });
            for (let i = 0; i < 4; i++) {
                document.getElementById('card'+i).addEventListener('input', e => { state.cards[i].contenu = e.target.value; });
            }
        }

        function bindAutocomplete() {
            const input = document.getElementById('auteurInput');
            const list = document.getElementById('autocompleteList');
            input.addEventListener('input', () => {
                const val = input.value.trim().toLowerCase();
                autocompleteIndex = -1;
                if (!val) { list.classList.remove('show'); return; }
                const matches = ANALYSTES.filter(a => !state.auteurs.includes(a) && a.toLowerCase().includes(val));
                if (!matches.length) { list.classList.remove('show'); return; }
                list.innerHTML = matches.map((m, i) => {
                    const idx = m.toLowerCase().indexOf(val);
                    return '<div class="autocomplete-item" data-name="'+m.replace(/"/g,'&quot;')+'" onclick="selectAnalyste(this.dataset.name)">'+
                        m.substring(0,idx)+'<span style="color:#00d4ff">'+m.substring(idx,idx+val.length)+'</span>'+m.substring(idx+val.length)+'</div>';
                }).join('');
                list.classList.add('show');
            });
            input.addEventListener('keydown', e => {
                const items = list.querySelectorAll('.autocomplete-item');
                if (!list.classList.contains('show') || !items.length) { if(e.key==='Enter'){addAuteurFromInput();e.preventDefault();} return; }
                if (e.key==='ArrowDown') { e.preventDefault(); autocompleteIndex=Math.min(autocompleteIndex+1,items.length-1); highlightAC(items); }
                else if (e.key==='ArrowUp') { e.preventDefault(); autocompleteIndex=Math.max(autocompleteIndex-1,0); highlightAC(items); }
                else if (e.key==='Enter') { e.preventDefault(); if(autocompleteIndex>=0) selectAnalyste(items[autocompleteIndex].dataset.name); else if(items.length===1) selectAnalyste(items[0].dataset.name); else addAuteurFromInput(); }
                else if (e.key==='Escape') list.classList.remove('show');
            });
            document.addEventListener('click', e => { if(!e.target.closest('.add-auteur-row')) list.classList.remove('show'); });
        }
        function highlightAC(items) { items.forEach((it,i) => it.classList.toggle('active', i===autocompleteIndex)); }
        function selectAnalyste(name) {
            if(!state.auteurs.includes(name)) { state.auteurs.push(name); renderAuteurs(); }
            document.getElementById('auteurInput').value=''; document.getElementById('autocompleteList').classList.remove('show'); autocompleteIndex=-1;
        }
        function addAuteurFromInput() {
            const val = document.getElementById('auteurInput').value.trim(); if(!val) return;
            const match = ANALYSTES.find(a => a.toLowerCase()===val.toLowerCase());
            const name = match||val;
            if(!state.auteurs.includes(name)) { state.auteurs.push(name); renderAuteurs(); }
            document.getElementById('auteurInput').value=''; document.getElementById('autocompleteList').classList.remove('show');
        }
        function removeAuteur(i) { state.auteurs.splice(i,1); renderAuteurs(); }
        function renderAuteurs() {
            document.getElementById('auteurChips').innerHTML = state.auteurs.map((a,i) =>
                '<div class="auteur-chip">'+esc(a)+'<span class="remove-auteur" onclick="removeAuteur('+i+')">‚úï</span></div>').join('');
        }
        function esc(t) { const d=document.createElement('div'); d.textContent=t; return d.innerHTML; }

        function generateDateGrid() {
            const grid=document.getElementById('dateGrid'); grid.innerHTML='';
            const today=new Date(); const dow=today.getDay();
            const monday=new Date(today); monday.setDate(today.getDate()-(dow===0?6:dow-1));
            const jours=['Lundi','Mardi','Mercredi','Jeudi','Vendredi'];
            for(let w=0;w<2;w++){
                const row=document.createElement('div'); row.className='date-week-row';
                for(let d=0;d<5;d++){
                    const date=new Date(monday); date.setDate(monday.getDate()+(w*7)+d);
                    const chip=document.createElement('div'); chip.className='date-chip';
                    chip.textContent=jours[d]+' '+date.getDate();
                    chip.dataset.date=date.toISOString().split('T')[0];
                    chip.onclick=()=>toggleDate(chip,chip.dataset.date);
                    row.appendChild(chip);
                }
                grid.appendChild(row);
                if(w===0){const s=document.createElement('div');s.style.height='4px';grid.appendChild(s);}
            }
        }
        function toggleDate(c,d){const i=state.dates.indexOf(d);if(i>=0){state.dates.splice(i,1);c.classList.remove('active');}else{state.dates.push(d);c.classList.add('active');}}
        function selectType(b){document.querySelectorAll('.type-btn').forEach(x=>x.classList.remove('active'));const t=b.dataset.type;if(state.type===t)state.type=null;else{state.type=t;b.classList.add('active');}}

        async function saveContent(){
            const content={id:Date.now().toString(),title:state.previewTitre||'Sans titre',
                subtitle:state.subtitle||'',previewTitre:state.previewTitre,previewReco:state.previewReco,
                auteurs:[...state.auteurs],type:state.type,dates:[...state.dates],
                p1:{sujet:state.cards[0].title,contenu:state.cards[0].contenu.split('\n').slice(0,7)},
                p2:{sujet:state.cards[1].title,contenu:state.cards[1].contenu.split('\n').slice(0,7)},
                p3:{sujet:state.cards[2].title,contenu:state.cards[2].contenu.split('\n').slice(0,7)},
                p4:{sujet:state.cards[3].title,contenu:state.cards[3].contenu.split('\n').slice(0,7)},
                createdAt:new Date().toISOString()};
            try{const r=await fetch(WS_SERVER_URL+'/api/history',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(content)});
                if(r.ok)showToast('‚úÖ Sauvegard√© ‚Äî disponible dans MANAGE');else{saveLocal(content);showToast('üíæ Sauvegard√© localement');}}
            catch(e){saveLocal(content);showToast('üíæ Sauvegard√© localement');}
        }
        function saveLocal(c){const s=JSON.parse(localStorage.getItem('createdContents')||'[]');s.push(c);localStorage.setItem('createdContents',JSON.stringify(s));}
        function exportContent(){
            const a=document.createElement('a');a.href=URL.createObjectURL(new Blob([JSON.stringify(state,null,2)],{type:'application/json'}));
            a.download='creation-'+(state.previewTitre||'export')+'-'+Date.now()+'.json';a.click();showToast('üìÅ JSON export√©');
        }
        function showToast(m){const t=document.getElementById('toast');t.textContent=m;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),2500);}
    </script>


<script>
(function(){
    var ALERT_WS_URL = 'wss://ecamm-overlay-server.onrender.com';
    var alertWs = null;
    var alertAudioCtx = null;
    var alertNodes = [];
    var alertActive = false;
    var alertBanner = null;

    // Request notification permission
    if ('Notification' in window && Notification.permission === 'default') Notification.requestPermission();

    function createAlertBanner() {
        if (alertBanner) return;
        alertBanner = document.createElement('div');
        alertBanner.id = 'studioAlertBanner';
        alertBanner.style.cssText = 'position:fixed;inset:0;z-index:99999;display:none;flex-direction:column;align-items:center;justify-content:center;background:rgba(255,0,0,0.85);animation:alertFlash 0.5s infinite;cursor:pointer;';
        alertBanner.innerHTML = '<div style="font-size:72px;margin-bottom:20px;">&#x1F6A8;</div>' +
            '<div style="font-size:28px;font-weight:800;color:#fff;margin-bottom:12px;">ALERTE STUDIO</div>' +
            '<div style="font-size:16px;color:rgba(255,255,255,0.8);margin-bottom:10px;" id="alertBannerMsg"></div>' +
            '<div style="font-size:14px;color:rgba(255,255,255,0.6);margin-bottom:30px;" id="alertBannerSound">&#x1F50A; Cliquez n\'importe o\u00f9 pour activer le son</div>' +
            '<button onclick="window._ackStudioAlert()" style="padding:18px 50px;font-size:18px;font-weight:800;background:#fff;color:#ff0000;border:none;border-radius:14px;cursor:pointer;box-shadow:0 4px 20px rgba(0,0,0,0.3);text-transform:uppercase;">&#x2705; PRISE EN CHARGE</button>';
        alertBanner.addEventListener('click', function(e) {
            if (e.target.tagName !== 'BUTTON') forceAlertSound();
        });
        document.body.appendChild(alertBanner);
        var style = document.createElement('style');
        style.textContent = '@keyframes alertFlash{0%,100%{background:rgba(255,0,0,0.85);}50%{background:rgba(180,0,0,0.95);}}';
        document.head.appendChild(style);
    }

    function showBanner(title, msg) {
        createAlertBanner();
        document.getElementById('alertBannerMsg').textContent = (title || 'Nouvelle alerte') + (msg ? ' \u2014 ' + msg : '');
        alertBanner.style.display = 'flex';
        forceAlertSound();
        sendNotif(title, msg);
    }

    function hideBanner() { if (alertBanner) alertBanner.style.display = 'none'; }

    function forceAlertSound() {
        if (!alertAudioCtx) alertAudioCtx = new (window.AudioContext || window.webkitAudioContext)();
        if (alertAudioCtx.state === 'suspended') {
            alertAudioCtx.resume().then(function() {
                if (!alertActive) startOsc();
                var el = document.getElementById('alertBannerSound'); if (el) el.style.display = 'none';
            });
        } else {
            if (!alertActive) startOsc();
            var el = document.getElementById('alertBannerSound'); if (el) el.style.display = 'none';
        }
    }

    function startOsc() {
        alertActive = true;
        var sncfNotes = [
            { freq: 587.33, dur: 0.35 },
            { freq: 880.00, dur: 0.35 },
            { freq: 739.99, dur: 0.35 },
            { freq: 293.66, dur: 0.7 }
        ];
        var totalDur = 0; sncfNotes.forEach(function(n){ totalDur += n.dur; }); totalDur += 0.4;
        function playChime() {
            if (!alertActive) return;
            var t = alertAudioCtx.currentTime;
            sncfNotes.forEach(function(note) {
                var o = alertAudioCtx.createOscillator(), g = alertAudioCtx.createGain();
                o.connect(g); g.connect(alertAudioCtx.destination);
                o.type = 'sine'; o.frequency.value = note.freq;
                g.gain.setValueAtTime(0.6, t);
                g.gain.exponentialRampToValueAtTime(0.001, t + note.dur - 0.02);
                o.start(t); o.stop(t + note.dur);
                alertNodes.push({osc:o, gain:g});
                t += note.dur;
            });
            setTimeout(function(){ if (alertActive) playChime(); }, totalDur * 1000);
        }
        playChime();
    }

    function stopSound() {
        alertActive = false;
        alertNodes.forEach(function(n){ try{n.osc.stop();}catch(e){} });
        alertNodes = [];
        hideBanner();
    }

    function sendNotif(title, msg) {
        if (!('Notification' in window) || Notification.permission !== 'granted') return;
        try {
            var n = new Notification('\uD83D\uDEA8 ALERTE STUDIO', {
                body: (title || 'Alerte') + (msg ? ' \u2014 ' + msg : ''),
                requireInteraction: true, tag: 'studio-alert'
            });
            n.onclick = function() { window.focus(); n.close(); };
        } catch(e) {}
    }

    window._ackStudioAlert = function() {
        stopSound();
        if (alertWs && alertWs.readyState === WebSocket.OPEN) {
            var stored = [];
            try { stored = JSON.parse(localStorage.getItem('studioAlerts') || '[]'); } catch(e){}
            stored.forEach(function(a) {
                if (a.status === 'sent') {
                    a.status = 'handled'; a.handledAt = new Date().toISOString();
                    alertWs.send(JSON.stringify({type:'studio-alert-update', data:{id:a.id, status:'handled'}}));
                }
            });
            localStorage.setItem('studioAlerts', JSON.stringify(stored));
        }
    };

    function connectAlertWS() {
        alertWs = new WebSocket(ALERT_WS_URL);
        alertWs.onmessage = function(e) {
            try {
                var msg = JSON.parse(e.data);
                if (msg.type === 'studio-alert' && msg.data && msg.data.status === 'sent') {
                    var stored = [];
                    try { stored = JSON.parse(localStorage.getItem('studioAlerts') || '[]'); } catch(ex){}
                    if (!stored.find(function(a){return a.id === msg.data.id;})) {
                        stored.unshift(msg.data); localStorage.setItem('studioAlerts', JSON.stringify(stored));
                    }
                    showBanner(msg.data.title, msg.data.emitter ? msg.data.emitter.name : '');
                }
                if (msg.type === 'studio-alert-update' && msg.data && msg.data.status !== 'sent') { stopSound(); }
            } catch(err) {}
        };
        alertWs.onclose = function(){ setTimeout(connectAlertWS, 3000); };
        alertWs.onerror = function(){ alertWs.close(); };
    }

    // Check on load
    try {
        var existing = JSON.parse(localStorage.getItem('studioAlerts') || '[]');
        if (existing.some(function(a){return a.status === 'sent';})) {
            var last = existing.find(function(a){return a.status === 'sent';});
            setTimeout(function(){ showBanner(last.title, last.emitter ? last.emitter.name : ''); }, 500);
        }
    } catch(e){}

    connectAlertWS();
})();
</script>

</body>
</html>
